/*
 * This file is generated by jOOQ.
 */
package com.task.infra.database.jooq.tables


import com.task.infra.database.jooq.Public
import com.task.infra.database.jooq.indexes.IDX_TASK_EXECUTIONS_ASSIGNEE
import com.task.infra.database.jooq.indexes.IDX_TASK_EXECUTIONS_DATE_STATUS
import com.task.infra.database.jooq.indexes.IDX_TASK_EXECUTIONS_DEFINITION
import com.task.infra.database.jooq.indexes.IDX_TASK_EXECUTIONS_SCHEDULED_DATE
import com.task.infra.database.jooq.indexes.IDX_TASK_EXECUTIONS_STATUS
import com.task.infra.database.jooq.keys.TASK_EXECUTIONS_PKEY
import com.task.infra.database.jooq.keys.TASK_EXECUTIONS__TASK_EXECUTIONS_ASSIGNEE_MEMBER_ID_FKEY
import com.task.infra.database.jooq.keys.TASK_EXECUTIONS__TASK_EXECUTIONS_COMPLETED_BY_MEMBER_ID_FKEY
import com.task.infra.database.jooq.keys.TASK_EXECUTIONS__TASK_EXECUTIONS_TASK_DEFINITION_ID_FKEY
import com.task.infra.database.jooq.tables.records.TaskExecutionsRecord

import java.time.LocalDate
import java.time.OffsetDateTime
import java.util.UUID
import java.util.function.Function

import kotlin.collections.List

import org.jooq.Check
import org.jooq.Field
import org.jooq.ForeignKey
import org.jooq.Index
import org.jooq.Name
import org.jooq.Record
import org.jooq.Records
import org.jooq.Row10
import org.jooq.Schema
import org.jooq.SelectField
import org.jooq.Table
import org.jooq.TableField
import org.jooq.TableOptions
import org.jooq.UniqueKey
import org.jooq.impl.DSL
import org.jooq.impl.Internal
import org.jooq.impl.SQLDataType
import org.jooq.impl.TableImpl


/**
 * タスク実行（チケット）
 */
@Suppress("UNCHECKED_CAST")
open class TaskExecutions(
    alias: Name,
    child: Table<out Record>?,
    path: ForeignKey<out Record, TaskExecutionsRecord>?,
    aliased: Table<TaskExecutionsRecord>?,
    parameters: Array<Field<*>?>?
): TableImpl<TaskExecutionsRecord>(
    alias,
    Public.PUBLIC,
    child,
    path,
    aliased,
    parameters,
    DSL.comment("タスク実行（チケット）"),
    TableOptions.table()
) {
    companion object {

        /**
         * The reference instance of <code>public.task_executions</code>
         */
        val TASK_EXECUTIONS: TaskExecutions = TaskExecutions()
    }

    /**
     * The class holding records for this type
     */
    override fun getRecordType(): Class<TaskExecutionsRecord> = TaskExecutionsRecord::class.java

    /**
     * The column <code>public.task_executions.id</code>. タスク実行ID（UUID）
     */
    val ID: TableField<TaskExecutionsRecord, UUID?> = createField(DSL.name("id"), SQLDataType.UUID.nullable(false).defaultValue(DSL.field(DSL.raw("uuid_generate_v4()"), SQLDataType.UUID)), this, "タスク実行ID（UUID）")

    /**
     * The column <code>public.task_executions.task_definition_id</code>.
     * 元タスク定義ID（外部キー）
     */
    val TASK_DEFINITION_ID: TableField<TaskExecutionsRecord, UUID?> = createField(DSL.name("task_definition_id"), SQLDataType.UUID.nullable(false), this, "元タスク定義ID（外部キー）")

    /**
     * The column <code>public.task_executions.assignee_member_id</code>.
     * 担当者ID（外部キー）
     */
    val ASSIGNEE_MEMBER_ID: TableField<TaskExecutionsRecord, UUID?> = createField(DSL.name("assignee_member_id"), SQLDataType.UUID, this, "担当者ID（外部キー）")

    /**
     * The column <code>public.task_executions.scheduled_date</code>. 実行予定日
     */
    val SCHEDULED_DATE: TableField<TaskExecutionsRecord, LocalDate?> = createField(DSL.name("scheduled_date"), SQLDataType.LOCALDATE.nullable(false), this, "実行予定日")

    /**
     * The column <code>public.task_executions.status</code>. ステータス（NOT_STARTED,
     * IN_PROGRESS, COMPLETED, CANCELLED）
     */
    val STATUS: TableField<TaskExecutionsRecord, String?> = createField(DSL.name("status"), SQLDataType.VARCHAR(20).nullable(false).defaultValue(DSL.field(DSL.raw("'NOT_STARTED'::character varying"), SQLDataType.VARCHAR)), this, "ステータス（NOT_STARTED, IN_PROGRESS, COMPLETED, CANCELLED）")

    /**
     * The column <code>public.task_executions.started_at</code>. 開始日時
     */
    val STARTED_AT: TableField<TaskExecutionsRecord, OffsetDateTime?> = createField(DSL.name("started_at"), SQLDataType.TIMESTAMPWITHTIMEZONE(6), this, "開始日時")

    /**
     * The column <code>public.task_executions.completed_at</code>. 完了日時
     */
    val COMPLETED_AT: TableField<TaskExecutionsRecord, OffsetDateTime?> = createField(DSL.name("completed_at"), SQLDataType.TIMESTAMPWITHTIMEZONE(6), this, "完了日時")

    /**
     * The column <code>public.task_executions.completed_by_member_id</code>.
     * 完了者ID（外部キー）
     */
    val COMPLETED_BY_MEMBER_ID: TableField<TaskExecutionsRecord, UUID?> = createField(DSL.name("completed_by_member_id"), SQLDataType.UUID, this, "完了者ID（外部キー）")

    /**
     * The column <code>public.task_executions.created_at</code>. 作成日時
     */
    val CREATED_AT: TableField<TaskExecutionsRecord, OffsetDateTime?> = createField(DSL.name("created_at"), SQLDataType.TIMESTAMPWITHTIMEZONE(6).nullable(false).defaultValue(DSL.field(DSL.raw("CURRENT_TIMESTAMP"), SQLDataType.TIMESTAMPWITHTIMEZONE)), this, "作成日時")

    /**
     * The column <code>public.task_executions.updated_at</code>. 更新日時
     */
    val UPDATED_AT: TableField<TaskExecutionsRecord, OffsetDateTime?> = createField(DSL.name("updated_at"), SQLDataType.TIMESTAMPWITHTIMEZONE(6).nullable(false).defaultValue(DSL.field(DSL.raw("CURRENT_TIMESTAMP"), SQLDataType.TIMESTAMPWITHTIMEZONE)), this, "更新日時")

    private constructor(alias: Name, aliased: Table<TaskExecutionsRecord>?): this(alias, null, null, aliased, null)
    private constructor(alias: Name, aliased: Table<TaskExecutionsRecord>?, parameters: Array<Field<*>?>?): this(alias, null, null, aliased, parameters)

    /**
     * Create an aliased <code>public.task_executions</code> table reference
     */
    constructor(alias: String): this(DSL.name(alias))

    /**
     * Create an aliased <code>public.task_executions</code> table reference
     */
    constructor(alias: Name): this(alias, null)

    /**
     * Create a <code>public.task_executions</code> table reference
     */
    constructor(): this(DSL.name("task_executions"), null)

    constructor(child: Table<out Record>, key: ForeignKey<out Record, TaskExecutionsRecord>): this(Internal.createPathAlias(child, key), child, key, TASK_EXECUTIONS, null)
    override fun getSchema(): Schema? = if (aliased()) null else Public.PUBLIC
    override fun getIndexes(): List<Index> = listOf(IDX_TASK_EXECUTIONS_ASSIGNEE, IDX_TASK_EXECUTIONS_DATE_STATUS, IDX_TASK_EXECUTIONS_DEFINITION, IDX_TASK_EXECUTIONS_SCHEDULED_DATE, IDX_TASK_EXECUTIONS_STATUS)
    override fun getPrimaryKey(): UniqueKey<TaskExecutionsRecord> = TASK_EXECUTIONS_PKEY
    override fun getReferences(): List<ForeignKey<TaskExecutionsRecord, *>> = listOf(TASK_EXECUTIONS__TASK_EXECUTIONS_TASK_DEFINITION_ID_FKEY, TASK_EXECUTIONS__TASK_EXECUTIONS_ASSIGNEE_MEMBER_ID_FKEY, TASK_EXECUTIONS__TASK_EXECUTIONS_COMPLETED_BY_MEMBER_ID_FKEY)

    private lateinit var _taskDefinitions: TaskDefinitions
    private lateinit var _taskExecutionsAssigneeMemberIdFkey: Members
    private lateinit var _taskExecutionsCompletedByMemberIdFkey: Members

    /**
     * Get the implicit join path to the <code>public.task_definitions</code>
     * table.
     */
    fun taskDefinitions(): TaskDefinitions {
        if (!this::_taskDefinitions.isInitialized)
            _taskDefinitions = TaskDefinitions(this, TASK_EXECUTIONS__TASK_EXECUTIONS_TASK_DEFINITION_ID_FKEY)

        return _taskDefinitions;
    }

    val taskDefinitions: TaskDefinitions
        get(): TaskDefinitions = taskDefinitions()

    /**
     * Get the implicit join path to the <code>public.members</code> table, via
     * the <code>task_executions_assignee_member_id_fkey</code> key.
     */
    fun taskExecutionsAssigneeMemberIdFkey(): Members {
        if (!this::_taskExecutionsAssigneeMemberIdFkey.isInitialized)
            _taskExecutionsAssigneeMemberIdFkey = Members(this, TASK_EXECUTIONS__TASK_EXECUTIONS_ASSIGNEE_MEMBER_ID_FKEY)

        return _taskExecutionsAssigneeMemberIdFkey;
    }

    val taskExecutionsAssigneeMemberIdFkey: Members
        get(): Members = taskExecutionsAssigneeMemberIdFkey()

    /**
     * Get the implicit join path to the <code>public.members</code> table, via
     * the <code>task_executions_completed_by_member_id_fkey</code> key.
     */
    fun taskExecutionsCompletedByMemberIdFkey(): Members {
        if (!this::_taskExecutionsCompletedByMemberIdFkey.isInitialized)
            _taskExecutionsCompletedByMemberIdFkey = Members(this, TASK_EXECUTIONS__TASK_EXECUTIONS_COMPLETED_BY_MEMBER_ID_FKEY)

        return _taskExecutionsCompletedByMemberIdFkey;
    }

    val taskExecutionsCompletedByMemberIdFkey: Members
        get(): Members = taskExecutionsCompletedByMemberIdFkey()
    override fun getChecks(): List<Check<TaskExecutionsRecord>> = listOf(
        Internal.createCheck(this, DSL.name("chk_completed"), "((((status)::text <> 'COMPLETED'::text) OR ((completed_at IS NOT NULL) AND (completed_by_member_id IS NOT NULL))))", true),
        Internal.createCheck(this, DSL.name("chk_started_at"), "((((status)::text = ANY ((ARRAY['NOT_STARTED'::character varying, 'CANCELLED'::character varying])::text[])) OR (started_at IS NOT NULL)))", true),
        Internal.createCheck(this, DSL.name("task_executions_status_check"), "(((status)::text = ANY ((ARRAY['NOT_STARTED'::character varying, 'IN_PROGRESS'::character varying, 'COMPLETED'::character varying, 'CANCELLED'::character varying])::text[])))", true)
    )
    override fun `as`(alias: String): TaskExecutions = TaskExecutions(DSL.name(alias), this)
    override fun `as`(alias: Name): TaskExecutions = TaskExecutions(alias, this)
    override fun `as`(alias: Table<*>): TaskExecutions = TaskExecutions(alias.getQualifiedName(), this)

    /**
     * Rename this table
     */
    override fun rename(name: String): TaskExecutions = TaskExecutions(DSL.name(name), null)

    /**
     * Rename this table
     */
    override fun rename(name: Name): TaskExecutions = TaskExecutions(name, null)

    /**
     * Rename this table
     */
    override fun rename(name: Table<*>): TaskExecutions = TaskExecutions(name.getQualifiedName(), null)

    // -------------------------------------------------------------------------
    // Row10 type methods
    // -------------------------------------------------------------------------
    override fun fieldsRow(): Row10<UUID?, UUID?, UUID?, LocalDate?, String?, OffsetDateTime?, OffsetDateTime?, UUID?, OffsetDateTime?, OffsetDateTime?> = super.fieldsRow() as Row10<UUID?, UUID?, UUID?, LocalDate?, String?, OffsetDateTime?, OffsetDateTime?, UUID?, OffsetDateTime?, OffsetDateTime?>

    /**
     * Convenience mapping calling {@link SelectField#convertFrom(Function)}.
     */
    fun <U> mapping(from: (UUID?, UUID?, UUID?, LocalDate?, String?, OffsetDateTime?, OffsetDateTime?, UUID?, OffsetDateTime?, OffsetDateTime?) -> U): SelectField<U> = convertFrom(Records.mapping(from))

    /**
     * Convenience mapping calling {@link SelectField#convertFrom(Class,
     * Function)}.
     */
    fun <U> mapping(toType: Class<U>, from: (UUID?, UUID?, UUID?, LocalDate?, String?, OffsetDateTime?, OffsetDateTime?, UUID?, OffsetDateTime?, OffsetDateTime?) -> U): SelectField<U> = convertFrom(toType, Records.mapping(from))
}
